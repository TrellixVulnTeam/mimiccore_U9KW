# Report of tests with composition

* **Sequential composition (OpenFlow 1.0):** The code is still incomplete. The core cannot handle packetOut messages, so when the first application in the chain generates a packetOut, the core shows an error.

* **Sequential composition (OpenFlow 1.3):** It is not implemented at all. In the tests, when the core receives a packetIn message, it shows a warning indicating that it cannot support the message.

* **Parallel composition (OpenFlow 1.0):** It has been tested with _priority mode_, _pass mode_ and _ignore mode_ and they work fine.  _Auto mode_ is only implemented for OpenFlow1.0 but only for a small subset of fields because it uses the same classes as the sequential composition.

* **Parallel composition (OpenFlow 1.3):** It works fine. In this case, it has also been tested in a scenario in which there were three applications running in the same switch, and the core prioritize correctly according to the priority setted in the composition file.

Note that the core handles flowMod messages among the backend applications and it resolves the conflics according to the composition file, but it doesn't check any packetOut message with the most priority flowMod. For example, you can have running two applications, a switch and a firewall, in which the firewall has the bigget priority, and at a certain moment the core receives a packetIn message in which a packet from outside wants to enter to our network. In this moment:

- The firewall application will generate a flowMod message droping this packet.
- The switch application will generate a flowMod message forwarding this packet.

In this case, the core prioritizes the flowMod from the firewall application and it would block the packet. However, if the switch application generates explicitly a packetOut message, for example flooding the packet, this packet would enter to our network because the core doesn't check this. This is important to take into account when the backend applications are implemented.

One solution to this problem is avoiding the use of packetOut messages, and for example, in the previous situation, it would be possible to use the buffer_id part of the flodMod message, which is generated by the swich application, to reprocess the packet that want to enter to our network, and in this way the core would ignore it (because the firewall application has bigger priority).
